!function(a,b){"undefined"!=typeof module&&module.exports?"undefined"==typeof angular?module.exports=b(require("angular")):module.exports=b(angular):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(this,function(a){var b=a.module("tdGal",[]);b.directive("tdGalBackface",["$controller",function(){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl}}}]),b.directive("tdGal",["$controller","$compile",function(a,b){return{restrict:"E",replace:!1,scope:{data:"="},controller:"@",name:"controller",link:function(a,c,d,e){var f=d.templateUrl,g={heightRatio:a.$eval(d.heightRatio),classes:d["class"],backTemplate:function(c){if(!f)return"";var d=document.createElement("td-gal-backface");d.setAttribute("template-url",f);var e=a.$new();return e.data=c,b(d)(e),d},onClick:function(b){a.$emit("tdgal-click",b)},onFocus:function(b){a.$emit("tdgal-focus",b)}};(!g.heightRatio||g.heightRatio<=0)&&delete g.heightRatio,(!g.classes||g.classes<=0)&&delete g.classes,c.tdGal(g),a.next=function(){c.tdGal("next")},a.prev=function(){c.tdGal("prev")},a.update=function(){c.tdGal("update")};var h=a.$watch("data",function(a){c.tdGal("elements",a)});a.$on("$destroy",function(){c.tdGal("destroy"),h()})}}}])});